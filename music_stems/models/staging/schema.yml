version: 2

models:
  - name: stg_stem_combinations
    description: "Staging model for stem combinations generated from vector similarity search"
    columns:
      - name: track_path
        description: "S3 path to the original track"
        tests:
          - not_null

      - name: replaced_stem_type
        description: "Type of stem being replaced in the original track"
        tests:
          - not_null

      - name: replacing_stem_type
        description: "Type of stem that can replace the original"
        tests:
          - not_null

      - name: replacing_stem_path
        description: "S3 path to the replacing stem file"
        tests:
          - not_null

      - name: similarity_score
        description: "Similarity score from vector search (0.0 to 1.0)"
        tests:
          - not_null

      - name: similarity_category
        description: "Categorized similarity: high (>=0.9), medium (>=0.75), low (<0.75)"

      - name: track_folder
        description: "Folder name extracted from track_path"

      - name: replacing_folder
        description: "Folder name extracted from replacing_stem_path"
